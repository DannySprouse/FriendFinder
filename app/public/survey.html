<!DOCTYPE html>
<html lang="en-US">

<head>
    <!-- metadata -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Friend Finder App: GA Tech Bootcamp" />
    <meta name="author" content="Danny S. Sprouse" />

    <!-- website title -->
    <title>Survey</title>

    <!-- script for minified jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

    <!-- link to bootstrap cdn & script for bootstrap js -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- link to png image for page tab -->
    <link rel="icon" href="http://www.freeiconspng.com/uploads/profile-icon-1.png" />

    <!-- link to fontawesome icon library & google fonts -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
        crossorigin="anonymous" />

    <link href="https://fonts.googleapis.com/css?family=Russo+One" rel="stylesheet">

    <!-- Chosen -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

    <!-- link to css -->
    <link rel="stylesheet" type="text/css" media="screen" href="../public/css/style.css" />
</head>

<body>
    <div class="container">
        <div class="header headerSurvey">
            <h2>
                <i class="fas fa-clipboard-check"></i> Survey Questions</h2>

            <hr />
        </div><br />
        <h3>
            <strong>About You</strong>
        </h3>
        <h4>Name (Required)</h4>
        <input type="text" name="" id="name" class="form-control" required>
        <h4>Link to Photo Image (Required)</h4>
        <input type="text" name="" id="photo" class="form-control" required>
        <hr />

        <p class="instruct">Please answer the following questions to find your friend match. All questions must be answered prior to submitting
            your survey.</p>
        <hr />
        <div class="oddNumber">
            <h3>
                <strong>Question 1</strong>
            </h3>
            <h4>I often find myself easily distracted or simply daydreaming.</h4>
            <select data-placeholder="" class="chosen-select" id="q1">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="evenNumber">
            <h3>
                <strong>Question 2</strong>
            </h3>
            <h4>I find that I have to constantly keep busy doing something.</h4>
            <select data-placeholder="" class="chosen-select" id="q2">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="oddNumber">
            <h3>
                <strong>Question 3</strong>
            </h3>
            <h4>I'm often a very emotional person.</h4>
            <select data-placeholder="" class="chosen-select" id="q3">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="evenNumber">
            <h3>
                <strong>Question 4</strong>
            </h3>
            <h4>I tend to obsess about everything.</h4>
            <select data-placeholder="" class="chosen-select" id="q4">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="oddNumber">
            <h3>
                <strong>Question 5</strong>
            </h3>
            <h4>I am the proverbial hopeless romantic.</h4>
            <select data-placeholder="" class="chosen-select" id="q5">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="evenNumber">
            <h3>
                <strong>Question 6</strong>
            </h3>
            <h4>When it comes to music, the words are more important than the melody.</h4>
            <select data-placeholder="" class="chosen-select" id="q6">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="oddNumber">
            <h3>
                <strong>Question 7</strong>
            </h3>
            <h4>I gain energy from being around lots of people and being social.</h4>
            <select data-placeholder="" class="chosen-select" id="q7">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="evenNumber">
            <h3>
                <strong>Question 8</strong>
            </h3>
            <h4>My friends and family think I give great personal advice.</h4>
            <select data-placeholder="" class="chosen-select" id="q8">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="oddNumber">
            <h3>
                <strong>Question 9</strong>
            </h3>
            <h4>Giving back to those less fortunate is very important to me.</h4>
            <select data-placeholder="" class="chosen-select" id="q9">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <div class="evenNumber">
            <h3>
                <strong>Question 10</strong>
            </h3>
            <h4>I use the zodiac and astrology to help me determine if a person is a good fit.</h4>
            <select data-placeholder="" class="chosen-select" id="q10">
                <option value=""></option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>
            <br />
            <br />
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary buttonClick btn-lg btn-block" id="submit">
            <i class="fa fa-check-circle" aria-hidden="true"></i> Submit </button>
        <hr />

        <!-- footer info -->
        <footer class="footer">
            <div class="container">
                <p class="footer">
                    <a class="shading" href="/api/friends">API Friends List</a>
                    |
                    <a class="shading" href="https://github.com/DannySprouse/FriendFinder.git" target="_blank">GitHub Repo</a>
                    |
                    <span id="copyright">Copyright &#169; 2018</span>
                    |
                    <!-- font awesome social button icons -->
                    <span class="social-icons">
                        <a href="https://www.linkedin.com/in/danny-sprouse" target="_blank" class="fab fa-linkedin">
                        </a>
                    </span>
                    <span class="social-icons">
                        <a href="https://github.com/DannySprouse" target="_blank" class="fab fa-github">
                        </a>
                    </span>
                    <span class="social-icons">
                        <a href="https://twitter.com/SprouseDanny" target="_blank" class="fab fa-twitter">
                        </a>
                    </span>
                    <span class="social-icons">
                        <a href="https://www.facebook.com/dannysprouseATL" target="_blank" class="fab fa-facebook">
                        </a>
                    </span>
                    <span class="social-icons">
                        <a href="https://www.pinterest.com/dannysprouse/" target="_blank" class="fab fa-pinterest">
                        </a>
                    </span>
                    <span class="social-icons">
                        <a href="https://500px.com/tcephotography" target="_blank" class="fab fa-500px"></a>
                    </span>
                </p>
            </div>
        </footer>
    </div>

    <!-- Match Modal -->
    <div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal Content-->
            <div class="modal-content">

                <!-- Set up header for modal -->
                <div class="modal-header">
                        <strong>Meet Your New Friend!</strong>
                    </h2>
                </div>

                <!-- Modal Body (For Match Info) -->
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchImg" src="" alt="Image Not Found">
                </div>

                <!-- Modal Footer (Close Button) -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div> <!-- closes resultsModal -->

<script type="text/javascript">
// Set up Chosen
    var config = {
        '.chosen-select': {},
        '.chosen-select-deselect': {
        allow_single_deselect: true
        },
        '.chosen-select-no-single': {
        disable_search_threshold: 10
        },
        '.chosen-select-no-results': {
        no_results_text: 'Sorry, we did not find you a match today!'
        },
        '.chosen-select-width': {
        width: "80%"
        }
    }
        for (var selector in config) {
        $(selector).chosen(config[selector]);
        }
    
// Get data from user input on form after validating form
    $("#submit").on("click", function() {

        function validateForm() {
        var isValid = true;
        $('.form-control').each(function() {
            if ($(this).val() === '')
            isValid = false;
        });
        $('.chosen-select').each(function() {
            if ($(this).val() === "")
            isValid = false
        })
        return isValid;
        }

// If form passes validation
        if (validateForm() == true) {

        var userData = {
            name: $("#name").val(),
            photo: $("#photo").val(),
            scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
            }
// Pull the website URL
        var currentURL = window.location.origin;

// Load the new information into the api
        $.post(currentURL + "/api/friends", userData, function(data) {
            $("#matchName").text(data.name);
            $('#matchImg').attr("src", data.photo);

// Show the newFriend match 
            $("#resultsModal").modal('toggle');
        });
        } else {
            
// If the form is missing any required elements, send alert
        alert("The entire form must be completed before we can make you a match!");
        }
        return false;
    });
    </script>

</body>

</html>